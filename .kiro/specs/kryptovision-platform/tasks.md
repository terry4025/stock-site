# KryptoVision 구현 계획

## 구현 작업 목록

- [ ] 1. 프로젝트 기반 구조 설정 및 핵심 인터페이스 구현
  - Next.js 14 App Router 프로젝트 구조 설정
  - TypeScript 타입 정의 및 인터페이스 구현 (StockData, NewsArticle, AiAnalysisResult)
  - Tailwind CSS 및 shadcn/ui 컴포넌트 시스템 설정
  - _요구사항: 1.1, 2.1, 3.1_

- [ ] 2. Supabase 백엔드 인프라 구축
  - [ ] 2.1 Supabase 프로젝트 설정 및 데이터베이스 스키마 생성
    - users, user_settings, ai_analysis_records, news_articles 테이블 생성
    - Row Level Security (RLS) 정책 설정
    - 인덱스 및 관계 설정
    - _요구사항: 7.1, 7.2_

  - [ ] 2.2 Supabase Auth 인증 시스템 구현
    - 회원가입/로그인 컴포넌트 구현
    - AuthContext 및 세션 관리 로직 구현
    - 보안 정책 및 JWT 토큰 처리
    - _요구사항: 7.1, 7.2_

- [ ] 3. 실시간 주식 데이터 시스템 구현
  - [ ] 3.1 다중 소스 API 연동 시스템 구축
    - Yahoo Finance, Alpha Vantage, Finnhub, FMP API 연동
    - 폴백 시스템 및 타임아웃 처리 로직 구현
    - 한국 주식 vs 해외 주식 구분 로직
    - _요구사항: 1.1, 1.3_

  - [ ] 3.2 실시간 데이터 업데이트 시스템 구현
    - 설정 가능한 자동 새로고침 기능 (기본 30초)
    - 실시간 상태 표시 컴포넌트 (RealtimeStatus)
    - 사용자 설정 기반 업데이트 간격 조정
    - _요구사항: 1.2, 1.4_

- [ ] 4. 주식 검색 및 데이터 표시 컴포넌트 구현
  - [ ] 4.1 종목 검색 컴포넌트 구현
    - 실시간 자동완성 기능
    - 티커 심볼 및 회사명 검색 지원
    - 검색 결과 필터링 및 선택 기능
    - _요구사항: 1.1_

  - [ ] 4.2 주식 데이터 테이블 컴포넌트 구현
    - 현재가, 일일 변동률, 거래량, 시가총액 표시
    - P/E 비율, 52주 최고/최저가, 배당수익률 표시
    - 반응형 디자인 및 데이터 포맷팅
    - _요구사항: 1.1, 1.2_

- [ ] 5. 인터랙티브 차트 시스템 구현
  - [ ] 5.1 캔들스틱 차트 컴포넌트 구현
    - Recharts를 활용한 캔들스틱 차트 구현
    - 거래량 차트 통합 표시
    - 차트 인터랙션 및 줌 기능
    - _요구사항: 4.1, 4.2_

  - [ ] 5.2 기술적 지표 계산 및 표시
    - 20일, 50일 이동평균선 계산 및 표시
    - RSI, 지지선, 저항선 계산 로직 구현
    - 기술적 분석 결과를 차트에 오버레이
    - _요구사항: 4.3, 4.4_

- [ ] 6. Google Gemini AI 통합 시스템 구현
  - [ ] 6.1 Genkit AI 플로우 기반 구조 설정
    - Genkit 설정 및 Gemini 2.5 Pro 모델 연동
    - AI 플로우 스키마 정의 (Zod 스키마)
    - 에러 처리 및 폴백 시스템 구현
    - _요구사항: 2.1, 2.4_

  - [ ] 6.2 종목 분석 AI 플로우 구현
    - stock-analysis-summary.ts 플로우 구현
    - 기술적 분석, 펀더멘털 분석, 뉴스 감정 종합 분석
    - 매수/관망 추천 및 신뢰도 점수 계산
    - _요구사항: 2.1, 2.2_

  - [ ] 6.3 투자 가이드 및 목표가 계산 시스템
    - 매수 추천 시 단기/장기 목표가 계산
    - 추천 매수가, 매도가, 위험도 평가
    - 일관성 있는 신뢰도 계산 알고리즘
    - _요구사항: 2.3_

- [ ] 7. 뉴스 수집 및 감정 분석 시스템 구현
  - [ ] 7.1 뉴스 크롤링 및 분류 시스템 구축
    - GitBook 사이드바 헤드라인 크롤링
    - 시장 뉴스 vs 종목별 뉴스 분류
    - 월가의 말말말 별도 추출 로직
    - _요구사항: 8.1, 8.2_

  - [ ] 7.2 AI 뉴스 감정 분석 플로우 구현
    - news-sentiment-analysis.ts 플로우 구현
    - 긍정적/부정적/중립적 감정 분류
    - 감정 분석 신뢰도 및 근거 제공
    - _요구사항: 3.1, 3.2, 3.3_

  - [ ] 7.3 실시간 뉴스 업데이트 시스템 구현
    - 자동 뉴스 업데이트 시스템 (startAutoNewsUpdate)
    - 새로운 뉴스 감지 이벤트 시스템
    - 뉴스 피드 자동 갱신 및 알림
    - _요구사항: 8.3_

- [ ] 8. Fear & Greed 지수 시스템 구현
  - [ ] 8.1 다중 소스 Fear & Greed 지수 수집
    - CNN DataViz API 연동
    - Alternative.me API 연동
    - VIX 기반 Fear & Greed 계산 로직
    - _요구사항: 5.1, 5.2_

  - [ ] 8.2 Fear & Greed 지수 시각화 컴포넌트
    - 0-100 범위 지수 표시 및 감정 상태 매핑
    - 실시간 업데이트 (5분 간격)
    - 시각적 인디케이터 및 애니메이션
    - _요구사항: 5.3, 5.4_

- [ ] 9. 글로벌 시장 지수 표시 시스템 구현
  - [ ] 9.1 주요 글로벌 지수 데이터 수집
    - S&P 500, 나스닥, 다우존스, 코스피 데이터 수집
    - 실시간 지수 업데이트 시스템
    - 지수별 변동률 및 변동폭 계산
    - _요구사항: 9.1, 9.2_

  - [ ] 9.2 글로벌 지수 표시 컴포넌트 구현
    - 상승/하락에 따른 색상 표시 (녹색/빨간색)
    - 간결하고 읽기 쉬운 카드 형태 UI
    - 반응형 그리드 레이아웃
    - _요구사항: 9.3, 9.4_

- [ ] 10. 다국어 지원 시스템 구현
  - [ ] 10.1 다국어 컨텍스트 및 번역 시스템 구축
    - LanguageContext 및 useLanguage 훅 구현
    - 한국어/영어 번역 파일 (translations.ts) 구성
    - 언어 스위처 컴포넌트 구현
    - _요구사항: 6.1, 6.2_

  - [ ] 10.2 AI 분석 다국어 지원
    - AI 분석 결과의 언어별 출력 처리
    - 시스템 프롬프트 언어별 설정
    - 사용자 설정 기반 언어 저장 및 복원
    - _요구사항: 6.3, 6.4_

- [ ] 11. 사용자 설정 및 개인화 시스템 구현
  - [ ] 11.1 사용자 설정 관리 시스템 구축
    - 언어, 새로고침 간격, 테마 설정 관리
    - 로컬 스토리지 및 데이터베이스 동기화
    - 설정 변경 이벤트 시스템
    - _요구사항: 7.3, 7.4_

  - [ ] 11.2 AI 분석 히스토리 관리 시스템
    - 사용자별 분석 기록 저장 (ai_analysis_records)
    - 분석 히스토리 조회 및 관리 UI
    - 분석 결과 상세 정보 저장
    - _요구사항: 2.5, 7.3_

- [ ] 12. 뉴스 표시 및 상호작용 컴포넌트 구현
  - [ ] 12.1 뉴스 카드 및 피드 컴포넌트 구현
    - 시장 뉴스 및 종목별 뉴스 카드 UI
    - 월가의 말말말 별도 섹션 구현
    - 뉴스 카테고리별 필터링 및 정렬
    - _요구사항: 8.1, 8.2_

  - [ ] 12.2 AI 뉴스 요약 모달 시스템 구현
    - 뉴스 제목 클릭 시 AI 요약 생성
    - 요약 결과 모달 표시
    - 요약 생성 로딩 상태 및 에러 처리
    - _요구사항: 8.4_

- [ ] 13. 데이터 내보내기 시스템 구현
  - [ ] 13.1 CSV 내보내기 기능 구현
    - 현재 주식 데이터 CSV 변환 및 다운로드
    - 타임스탬프 포함 파일명 생성
    - AI 분석 히스토리 CSV 내보내기
    - _요구사항: 10.1, 10.2, 10.3_

  - [ ] 13.2 내보내기 UI 및 사용자 피드백
    - CSV 내보내기 버튼 및 UI 구현
    - 내보내기 성공/실패 메시지 표시
    - 다운로드 진행 상태 표시
    - _요구사항: 10.4_

- [ ] 14. 에러 처리 및 폴백 시스템 강화
  - [ ] 14.1 포괄적 에러 처리 시스템 구현
    - API 호출 타임아웃 및 재시도 로직
    - 사용자 친화적 에러 메시지 표시
    - 에러 로깅 및 모니터링 시스템
    - _요구사항: 1.3, 2.4, 5.2_

  - [ ] 14.2 서비스 연속성을 위한 폴백 시스템
    - 향상된 Mock 데이터 시스템
    - Graceful Degradation 구현
    - 오프라인 상태 감지 및 처리
    - _요구사항: 1.3, 2.4_

- [ ] 15. 성능 최적화 및 사용자 경험 개선
  - [ ] 15.1 로딩 상태 및 스켈레톤 UI 구현
    - 각 컴포넌트별 로딩 스켈레톤 구현
    - 로딩 스크린 및 진행 상태 표시
    - 부드러운 전환 애니메이션
    - _요구사항: 전체 UX 개선_

  - [ ] 15.2 성능 최적화 및 코드 스플리팅
    - React.lazy 및 Suspense를 활용한 지연 로딩
    - 이미지 최적화 및 압축
    - 번들 크기 최적화 및 트리 쉐이킹
    - _요구사항: 성능 최적화_

- [ ] 16. 테스트 및 품질 보증
  - [ ] 16.1 단위 테스트 구현
    - AI 플로우 함수 테스트
    - 유틸리티 함수 및 데이터 변환 테스트
    - 컴포넌트 렌더링 테스트
    - _요구사항: 코드 품질 보증_

  - [ ] 16.2 통합 테스트 및 E2E 테스트
    - 사용자 시나리오 기반 E2E 테스트
    - API 연동 통합 테스트
    - 크로스 브라우저 호환성 테스트
    - _요구사항: 시스템 안정성_

- [ ] 17. 배포 및 프로덕션 준비
  - [ ] 17.1 Vercel 배포 설정 및 환경 구성
    - 프로덕션 환경 변수 설정
    - Edge Runtime 최적화
    - 자동 배포 파이프라인 구성
    - _요구사항: 배포 및 운영_

  - [ ] 17.2 모니터링 및 분석 시스템 설정
    - Vercel Analytics 설정
    - 에러 추적 및 성능 모니터링
    - 사용자 행동 분석 도구 연동
    - _요구사항: 운영 모니터링_